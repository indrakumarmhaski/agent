'use strict';function _0x2494(_0x469231,_0x4c351a){const _0x1f0078=_0x1f00();return _0x2494=function(_0x249470,_0x2b1489){_0x249470=_0x249470-0x109;let _0x542df3=_0x1f0078[_0x249470];return _0x542df3;},_0x2494(_0x469231,_0x4c351a);}const _0x11f433=_0x2494;(function(_0x332c99,_0x1e4562){const _0x25c0c1=_0x2494,_0x26c454=_0x332c99();while(!![]){try{const _0x2d6b30=parseInt(_0x25c0c1(0x118))/0x1+parseInt(_0x25c0c1(0x113))/0x2*(-parseInt(_0x25c0c1(0x135))/0x3)+parseInt(_0x25c0c1(0x10a))/0x4+parseInt(_0x25c0c1(0x137))/0x5+-parseInt(_0x25c0c1(0x130))/0x6*(-parseInt(_0x25c0c1(0x117))/0x7)+-parseInt(_0x25c0c1(0x10d))/0x8*(-parseInt(_0x25c0c1(0x128))/0x9)+-parseInt(_0x25c0c1(0x11d))/0xa;if(_0x2d6b30===_0x1e4562)break;else _0x26c454['push'](_0x26c454['shift']());}catch(_0x441203){_0x26c454['push'](_0x26c454['shift']());}}}(_0x1f00,0xf24ea));var __awaiter=this&&this['__awaiter']||function(_0x15ca64,_0x58e6d2,_0x44d47e,_0x3e4d52){function _0x1aa12f(_0x4a0c38){return _0x4a0c38 instanceof _0x44d47e?_0x4a0c38:new _0x44d47e(function(_0x370d45){_0x370d45(_0x4a0c38);});}return new(_0x44d47e||(_0x44d47e=Promise))(function(_0xd29375,_0x623bda){const _0x24c2ed=_0x2494;function _0x27f332(_0x5f14d7){const _0x1f4d33=_0x2494;try{_0x4e3d3f(_0x3e4d52[_0x1f4d33(0x134)](_0x5f14d7));}catch(_0xc45f95){_0x623bda(_0xc45f95);}}function _0x32465e(_0xc436da){const _0x1aeefd=_0x2494;try{_0x4e3d3f(_0x3e4d52[_0x1aeefd(0x121)](_0xc436da));}catch(_0x55e669){_0x623bda(_0x55e669);}}function _0x4e3d3f(_0x2d7f28){const _0x257001=_0x2494;_0x2d7f28[_0x257001(0x124)]?_0xd29375(_0x2d7f28[_0x257001(0x11b)]):_0x1aa12f(_0x2d7f28[_0x257001(0x11b)])[_0x257001(0x139)](_0x27f332,_0x32465e);}_0x4e3d3f((_0x3e4d52=_0x3e4d52[_0x24c2ed(0x132)](_0x15ca64,_0x58e6d2||[]))[_0x24c2ed(0x134)]());});};function _0x1f00(){const _0x185376=['203ddZySf','1128256WdvkVz','cast','text','value','push','41308150XBPlsJ','__esModule','queryResult','includes','throw','parser','handleStartElement','done','concat','handleEndElement','startElement','234iuWeqJ','node-expat','records','binaryRemainder','from','bind','endElement','slice','62544VKyDhc','type','apply','write','next','2409KWXnnI','Transform','8712955DKAyjA','init','then','convertChunkBase64ToBuffer','1814192qxHgiM','binaryValue','base64','471368NEAHwN','length','defineProperty','field','binaryFields','handleText','88RxDQDD','stream','addFieldToRecord','parsedRecord'];_0x1f00=function(){return _0x185376;};return _0x1f00();}Object[_0x11f433(0x10f)](exports,_0x11f433(0x11e),{'value':!![]});const node_expat_1=require(_0x11f433(0x129)),stream_1=require(_0x11f433(0x114)),ROOT_FIELDS=[_0x11f433(0x12a),_0x11f433(0x11f),_0x11f433(0x131)];class BulkXmlStreamParser extends stream_1[_0x11f433(0x136)]{constructor({binaryFields:_0x36ee81,cast:_0x81bf9b}){const _0x149b83=_0x11f433;super({'objectMode':!![]}),this['parsedRecord']={},this['value']='',this['binaryValue']=[],this['binaryFields']=_0x36ee81,this['cast']=_0x81bf9b,this[_0x149b83(0x122)]=new node_expat_1['Parser'](),this[_0x149b83(0x138)]();}['init'](){const _0x4a9bab=_0x11f433;this[_0x4a9bab(0x122)]['on'](_0x4a9bab(0x127),this[_0x4a9bab(0x123)][_0x4a9bab(0x12d)](this)),this[_0x4a9bab(0x122)]['on'](_0x4a9bab(0x11a),this[_0x4a9bab(0x112)][_0x4a9bab(0x12d)](this)),this[_0x4a9bab(0x122)]['on'](_0x4a9bab(0x12e),this['handleEndElement'][_0x4a9bab(0x12d)](this));}[_0x11f433(0x123)](_0x29f7de){this['field']=_0x29f7de;}['handleText'](_0x565773){const _0x173f6d=_0x11f433;if(!this[_0x173f6d(0x110)]||ROOT_FIELDS[_0x173f6d(0x120)](this[_0x173f6d(0x110)]))return;if(!this[_0x173f6d(0x111)][_0x173f6d(0x120)](this[_0x173f6d(0x110)])){this['value']=this[_0x173f6d(0x11b)]+_0x565773;return;}const _0x4bdfaa=this['convertChunkBase64ToBuffer'](_0x565773);this[_0x173f6d(0x10b)][_0x173f6d(0x11c)](_0x4bdfaa);}[_0x11f433(0x126)](_0xbfb292){const _0x411d6c=_0x11f433;if(_0xbfb292==='type')return;_0xbfb292===_0x411d6c(0x12a)&&(this[_0x411d6c(0x11c)](this['parsedRecord']),this[_0x411d6c(0x116)]={}),_0xbfb292===_0x411d6c(0x11f)&&this[_0x411d6c(0x11c)](null),this[_0x411d6c(0x110)]===_0xbfb292&&this[_0x411d6c(0x115)]();}[_0x11f433(0x109)](_0x591689){const _0x122dc5=_0x11f433;this['binaryRemainder']&&(_0x591689=this[_0x122dc5(0x12b)]+_0x591689);const _0x26818b=_0x591689[_0x122dc5(0x10e)]%0x4;return this['binaryRemainder']=_0x26818b?_0x591689['slice'](-_0x26818b):null,Buffer[_0x122dc5(0x12c)](_0x591689[_0x122dc5(0x12f)](0x0,_0x591689[_0x122dc5(0x10e)]-_0x26818b),_0x122dc5(0x10c));}[_0x11f433(0x115)](){const _0x93b2eb=_0x11f433;let _0x1231ac;!this['binaryFields'][_0x93b2eb(0x120)](this[_0x93b2eb(0x110)])?_0x1231ac=this[_0x93b2eb(0x11b)]||null:_0x1231ac=Buffer[_0x93b2eb(0x125)](this['binaryValue'])||null,this[_0x93b2eb(0x119)]?this[_0x93b2eb(0x116)][this[_0x93b2eb(0x110)]]=this['cast'](_0x1231ac,this[_0x93b2eb(0x110)]):this[_0x93b2eb(0x116)][this['field']]=_0x1231ac,this[_0x93b2eb(0x110)]=null,this[_0x93b2eb(0x11b)]='',this[_0x93b2eb(0x10b)]=[],this[_0x93b2eb(0x12b)]=null;}['_transform'](_0x2512a6,_0xa61843,_0x1ba343){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1aa5db=_0x2494;try{this[_0x1aa5db(0x122)][_0x1aa5db(0x133)](_0x2512a6),_0x1ba343();}catch(_0x17064c){_0x1ba343(_0x17064c);}});}}exports['default']=BulkXmlStreamParser;