'use strict';const _0x5165bd=_0x1294;(function(_0xa5ec14,_0x3d5d4c){const _0x187e14=_0x1294,_0x1f1494=_0xa5ec14();while(!![]){try{const _0x541b65=-parseInt(_0x187e14(0x6e))/0x1+parseInt(_0x187e14(0x85))/0x2*(parseInt(_0x187e14(0xa1))/0x3)+parseInt(_0x187e14(0x9f))/0x4*(parseInt(_0x187e14(0x7f))/0x5)+parseInt(_0x187e14(0x96))/0x6*(-parseInt(_0x187e14(0x91))/0x7)+parseInt(_0x187e14(0x6d))/0x8*(-parseInt(_0x187e14(0x79))/0x9)+parseInt(_0x187e14(0x74))/0xa*(-parseInt(_0x187e14(0x9a))/0xb)+parseInt(_0x187e14(0x76))/0xc*(parseInt(_0x187e14(0x8a))/0xd);if(_0x541b65===_0x3d5d4c)break;else _0x1f1494['push'](_0x1f1494['shift']());}catch(_0xb6282c){_0x1f1494['push'](_0x1f1494['shift']());}}}(_0x20a8,0x51f24));var __awaiter=this&&this['__awaiter']||function(_0x11edfd,_0x3ed13c,_0x559b7e,_0x577c4e){function _0xba8a9e(_0x2f192a){return _0x2f192a instanceof _0x559b7e?_0x2f192a:new _0x559b7e(function(_0x187917){_0x187917(_0x2f192a);});}return new(_0x559b7e||(_0x559b7e=Promise))(function(_0x1947b2,_0x18dffd){const _0x50b9b9=_0x1294;function _0x1db58f(_0x50ffa6){const _0x3d8f2d=_0x1294;try{_0x533c5b(_0x577c4e[_0x3d8f2d(0x70)](_0x50ffa6));}catch(_0x2beb9c){_0x18dffd(_0x2beb9c);}}function _0x3ebce5(_0x372f84){const _0x2fefdb=_0x1294;try{_0x533c5b(_0x577c4e[_0x2fefdb(0x72)](_0x372f84));}catch(_0x326271){_0x18dffd(_0x326271);}}function _0x533c5b(_0x188807){const _0x50b4da=_0x1294;_0x188807['done']?_0x1947b2(_0x188807['value']):_0xba8a9e(_0x188807['value'])[_0x50b4da(0x6c)](_0x1db58f,_0x3ebce5);}_0x533c5b((_0x577c4e=_0x577c4e[_0x50b9b9(0x86)](_0x11edfd,_0x3ed13c||[]))['next']());});},__importDefault=this&&this[_0x5165bd(0x9e)]||function(_0x37b1c4){const _0x294953=_0x5165bd;return _0x37b1c4&&_0x37b1c4[_0x294953(0x77)]?_0x37b1c4:{'default':_0x37b1c4};};Object[_0x5165bd(0x8b)](exports,_0x5165bd(0x77),{'value':!![]});const xml2js_1=__importDefault(require(_0x5165bd(0x78))),base_automation_process_1=__importDefault(require(_0x5165bd(0x83))),__1=require('..'),WORKFLOW_METADATA_TYPE=_0x5165bd(0x73),KEY_NAME=_0x5165bd(0x8c),INACTIVE_STATUS=![],WORKFLOWS_FOLDER=_0x5165bd(0x68);function _0x1294(_0x15c065,_0x7cd2a1){const _0x20a80e=_0x20a8();return _0x1294=function(_0x12941d,_0x29ff63){_0x12941d=_0x12941d-0x67;let _0x171785=_0x20a80e[_0x12941d];return _0x171785;},_0x1294(_0x15c065,_0x7cd2a1);}class WorkflowsAutomationProcess extends base_automation_process_1['default']{[_0x5165bd(0x93)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x475595=_0x1294;yield this[_0x475595(0x87)](INACTIVE_STATUS);});}[_0x5165bd(0x87)](_0xa8a04a){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x331b82=_0x1294;for(const _0x1ea508 in this[_0x331b82(0x7e)][_0x331b82(0x95)]){if(!_0x1ea508['startsWith'](WORKFLOWS_FOLDER+'/')||this[_0x331b82(0x7e)][_0x331b82(0x95)][_0x1ea508][_0x331b82(0x75)])continue;const _0x2a68a0=yield this['sourceZip']['file'](_0x1ea508)[_0x331b82(0x8e)](_0x331b82(0x71)),_0x4279bc=yield new xml2js_1[(_0x331b82(0x7d))][(_0x331b82(0x88))]({'explicitArray':![]})[_0x331b82(0x7a)](_0x2a68a0),_0x40eba7=_0x4279bc['Workflow'][_0x331b82(0x6f)];if(!_0x40eba7)continue;const _0xb39d52=Array[_0x331b82(0x98)](_0x40eba7)?_0x40eba7:[_0x40eba7];for(const _0x123772 of _0xb39d52){_0x123772[_0x331b82(0x67)]=_0xa8a04a;}const _0x11c49c=new xml2js_1['default']['Builder']()[_0x331b82(0x7b)](_0x4279bc);this[_0x331b82(0x9d)][_0x331b82(0x9b)](_0x1ea508,_0x11c49c),this['addToTargetManifest'](_0x1ea508);}});}[_0x5165bd(0x6b)](_0x1040ba){const _0x5bd242=_0x5165bd;this['initTypeInTargetManifest'](WORKFLOW_METADATA_TYPE),this[_0x5bd242(0x7c)][_0x5bd242(0xa0)](WORKFLOW_METADATA_TYPE)['add'](this['getDeveloperName'](_0x1040ba));}[_0x5165bd(0x69)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2e00ae=_0x1294;if(!this[_0x2e00ae(0x90)][_0x2e00ae(0x84)])return[];const _0x3348b8=new __1['QueryBuilder']()[_0x2e00ae(0x94)]('Name',_0x2e00ae(0x8c),_0x2e00ae(0x82))[_0x2e00ae(0x8d)](_0x2e00ae(0x97))[_0x2e00ae(0x6a)](_0x2e00ae(0x9c))[_0x2e00ae(0x99)](_0x2e00ae(0x8f)+this[_0x2e00ae(0x90)][_0x2e00ae(0x89)](_0x2e00ae(0x92))+'\x27)')['build'](),_0x19b629=yield this[_0x2e00ae(0x80)](_0x3348b8),_0x597800={'name':WORKFLOW_METADATA_TYPE,'members':[]};for(const _0x277ef1 of _0x19b629){_0x597800[_0x2e00ae(0x81)]['push'](_0x277ef1[KEY_NAME]);}return _0x597800['members'][_0x2e00ae(0x84)]?[_0x597800]:[];});}}function _0x20a8(){const _0x4ca306=['xml2js','5580OhZatq','parseStringPromise','buildObject','targetManifest','default','sourceZip','2709135ybVXIh','query','members','NamespacePrefix','./base-automation-process','length','46rmuSXE','apply','setStatus','Parser','join','273754DvaqHA','defineProperty','TableEnumOrId','from','async','TableEnumOrId\x20IN\x20(\x27','objects','245mqKKwi','\x27,\x27','disable','select','files','48426yUjJdo','WorkflowRule','isArray','andWhere','55cdyTBz','file','ManageableState\x20=\x20\x27unmanaged\x27','targetZip','__importDefault','4WrKeWh','get','50091SHSwKt','active','workflows','getSourceManifest','where','addToTargetManifest','then','4408Fqsfer','314652WGsvHR','rules','next','string','throw','Workflow','861190eohpHo','dir','444PADrek','__esModule'];_0x20a8=function(){return _0x4ca306;};return _0x20a8();}exports[_0x5165bd(0x7d)]=WorkflowsAutomationProcess;