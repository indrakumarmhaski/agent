'use strict';const _0x292fe1=_0x16af;function _0x16af(_0x4dec1d,_0x1eaebb){const _0x37ba6e=_0x37ba();return _0x16af=function(_0x16af59,_0x26035d){_0x16af59=_0x16af59-0x11c;let _0x446e82=_0x37ba6e[_0x16af59];return _0x446e82;},_0x16af(_0x4dec1d,_0x1eaebb);}(function(_0x286931,_0x6db07f){const _0x515d34=_0x16af,_0x360678=_0x286931();while(!![]){try{const _0x2ecd1d=-parseInt(_0x515d34(0x14e))/0x1+parseInt(_0x515d34(0x13a))/0x2+-parseInt(_0x515d34(0x129))/0x3*(parseInt(_0x515d34(0x121))/0x4)+-parseInt(_0x515d34(0x149))/0x5*(-parseInt(_0x515d34(0x138))/0x6)+-parseInt(_0x515d34(0x13c))/0x7+-parseInt(_0x515d34(0x136))/0x8*(-parseInt(_0x515d34(0x12e))/0x9)+parseInt(_0x515d34(0x14a))/0xa;if(_0x2ecd1d===_0x6db07f)break;else _0x360678['push'](_0x360678['shift']());}catch(_0xf89b4){_0x360678['push'](_0x360678['shift']());}}}(_0x37ba,0x4d37e));var __awaiter=this&&this[_0x292fe1(0x143)]||function(_0x342cb0,_0x4ff250,_0x4178e6,_0x46708b){function _0x50e732(_0x3011be){return _0x3011be instanceof _0x4178e6?_0x3011be:new _0x4178e6(function(_0x39030f){_0x39030f(_0x3011be);});}return new(_0x4178e6||(_0x4178e6=Promise))(function(_0x18e5d3,_0x2581e2){const _0x39c1cc=_0x16af;function _0x9ec669(_0x370269){try{_0x246e02(_0x46708b['next'](_0x370269));}catch(_0x3bef8f){_0x2581e2(_0x3bef8f);}}function _0x4a054e(_0x3b174b){const _0x542bbe=_0x16af;try{_0x246e02(_0x46708b[_0x542bbe(0x142)](_0x3b174b));}catch(_0x42c526){_0x2581e2(_0x42c526);}}function _0x246e02(_0x44ad50){const _0x4288cc=_0x16af;_0x44ad50[_0x4288cc(0x135)]?_0x18e5d3(_0x44ad50['value']):_0x50e732(_0x44ad50['value'])[_0x4288cc(0x139)](_0x9ec669,_0x4a054e);}_0x246e02((_0x46708b=_0x46708b[_0x39c1cc(0x14b)](_0x342cb0,_0x4ff250||[]))['next']());});},__importDefault=this&&this[_0x292fe1(0x145)]||function(_0x149e4b){const _0x3ee841=_0x292fe1;return _0x149e4b&&_0x149e4b[_0x3ee841(0x11d)]?_0x149e4b:{'default':_0x149e4b};};Object[_0x292fe1(0x13f)](exports,_0x292fe1(0x11d),{'value':!![]});function _0x37ba(){const _0x46768a=['jszip','12oiPkGC','format','generateAsync','default','CHILD_METADATA_TYPES','UTF-8','push','DEFLATE','349719Qioepk','components','_items','_manifest','main','18PmgOag','deployOptions','deploy','has','apiVersion','METADATA_PATH','children','done','1246032uxEYNy','parentXmlName','42ovVJjj','then','1153032nqecbx','1.0','1823038FTnSVa','xmlName','listMetadataItem','defineProperty','addToManifest','./base.deploy','throw','__awaiter','getPackageXML','__importDefault','base64','file','#comment','62680OOWCGV','2750310vyMsMC','apply','fileName','PARENT_METADATA_TYPES','324368urSUKs','http://soap.sforce.com/2006/04/metadata','execute','__esModule','fast-xml-parser','../../constants/metadata.constants'];_0x37ba=function(){return _0x46768a;};return _0x37ba();}const base_deploy_1=__importDefault(require(_0x292fe1(0x141))),factory_deploy_preparer_1=__importDefault(require('./parsers/factory.deploy-preparer')),metadata_constants_1=__importDefault(require(_0x292fe1(0x11f))),jszip_1=__importDefault(require(_0x292fe1(0x120))),fast_xml_parser_1=require(_0x292fe1(0x11e)),xml_utils_1=__importDefault(require('../../utils/xml.utils'));class DefaultDeploy extends base_deploy_1[_0x292fe1(0x124)]{constructor(_0xa23e94,_0x3131b4,_0x32951f,_0x42ad27,_0x505ea5){const _0x3b0611=_0x292fe1;super(_0xa23e94,_0x3131b4,_0x32951f),this['_items']=_0x42ad27,this[_0x3b0611(0x12c)]={},this[_0x3b0611(0x12f)]=_0x505ea5;}['prepareDeployOptions'](){const _0x5cc15e=_0x292fe1,_0x3abd22=[],_0x8ba430={};for(const _0x47d81c in this['_items']){const _0x4510f0=this[_0x5cc15e(0x12b)][_0x47d81c];for(const _0x1cfcc2 of _0x4510f0[_0x5cc15e(0x12a)]){if(metadata_constants_1[_0x5cc15e(0x124)][_0x5cc15e(0x14d)][_0x5cc15e(0x131)](_0x4510f0['xmlName'])||metadata_constants_1[_0x5cc15e(0x124)]['CHILD_METADATA_TYPES']['has'](_0x4510f0[_0x5cc15e(0x13d)])){!_0x8ba430[_0x1cfcc2[_0x5cc15e(0x13e)]['fileName']]&&(_0x8ba430[_0x1cfcc2['listMetadataItem'][_0x5cc15e(0x14c)]]={'children':[],'parentXmlName':_0x4510f0[_0x5cc15e(0x137)]||_0x4510f0[_0x5cc15e(0x13d)],'fileName':_0x1cfcc2[_0x5cc15e(0x13e)][_0x5cc15e(0x14c)]});const _0x57f8f1=_0x8ba430[_0x1cfcc2[_0x5cc15e(0x13e)][_0x5cc15e(0x14c)]];metadata_constants_1[_0x5cc15e(0x124)][_0x5cc15e(0x14d)][_0x5cc15e(0x131)](_0x4510f0[_0x5cc15e(0x13d)])&&(_0x57f8f1[_0x5cc15e(0x12d)]=_0x1cfcc2),metadata_constants_1[_0x5cc15e(0x124)][_0x5cc15e(0x125)][_0x5cc15e(0x131)](_0x4510f0[_0x5cc15e(0x13d)])&&_0x57f8f1[_0x5cc15e(0x134)][_0x5cc15e(0x127)](_0x1cfcc2);}else _0x3abd22[_0x5cc15e(0x127)]({'main':_0x1cfcc2,'fileName':_0x1cfcc2[_0x5cc15e(0x13e)][_0x5cc15e(0x14c)]});}}return _0x3abd22[_0x5cc15e(0x127)](...Object['values'](_0x8ba430)),_0x3abd22;}[_0x292fe1(0x140)](_0xce8335){const _0x2b6b33=_0x292fe1;for(const _0x22d5a7 in _0xce8335){!this['_manifest'][_0x22d5a7]&&(this['_manifest'][_0x22d5a7]=[]),this[_0x2b6b33(0x12c)][_0x22d5a7][_0x2b6b33(0x127)](..._0xce8335[_0x22d5a7]);}}[_0x292fe1(0x144)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x51a650=_0x16af,_0x1d9eed=[];for(const _0x27c982 in this[_0x51a650(0x12c)]){_0x1d9eed[_0x51a650(0x127)]({'members':this['_manifest'][_0x27c982],'name':_0x27c982});}const _0x33a1fc=new fast_xml_parser_1['XMLBuilder']({'commentPropName':_0x51a650(0x148),'ignoreAttributes':![],'attributeNamePrefix':'@'})['build']({'?xml':{'@version':_0x51a650(0x13b),'@encoding':_0x51a650(0x126)},'Package':{'@xmlns':_0x51a650(0x14f),'types':_0x1d9eed,'version':this[_0x51a650(0x132)]}});return xml_utils_1[_0x51a650(0x124)][_0x51a650(0x122)](_0x33a1fc);});}[_0x292fe1(0x11c)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x2e3fc8=_0x16af,_0x49a0ae=this['prepareDeployOptions'](),_0x45f0dd=new jszip_1[(_0x2e3fc8(0x124))]();for(const _0x3a6c44 of _0x49a0ae){const {manifest:_0x28546c,files:_0x19952a}=yield factory_deploy_preparer_1[_0x2e3fc8(0x124)]['create'](_0x3a6c44)['execute']();for(const _0x976b5d in _0x19952a){yield _0x45f0dd[_0x2e3fc8(0x147)](metadata_constants_1['default'][_0x2e3fc8(0x133)]+'/'+_0x976b5d,_0x19952a[_0x976b5d]);}this[_0x2e3fc8(0x140)](_0x28546c);}const _0x646d19=yield this[_0x2e3fc8(0x144)]();return yield _0x45f0dd['file'](metadata_constants_1[_0x2e3fc8(0x124)]['PACKAGE_XML_PATH'],_0x646d19),this[_0x2e3fc8(0x147)]=yield _0x45f0dd[_0x2e3fc8(0x123)]({'type':_0x2e3fc8(0x146),'compression':_0x2e3fc8(0x128),'compressionOptions':{'level':0x9}}),this[_0x2e3fc8(0x130)]();});}}exports[_0x292fe1(0x124)]=DefaultDeploy;