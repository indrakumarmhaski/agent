'use strict';const _0x36a010=_0xf846;function _0x5d44(){const _0x1fc263=['1znctDn','value','8805umjjrD','18565008gvSGqt','then','listMetadata','_axiosInstance','../../constants/metadata.constants','501416Nurlrv','next','1064709byTDNH','__importDefault','addFolderTypes','code','splitOnChunks','290022mIwJbj','272529IpsAqm','map','5866180JzCSFi','__esModule','CHUNK_SIZE','default','_types','length','filter','SalesforceError','apply','request','_apiVersion','LIST_METADATA_SKIP_ERRORS','1866JercMe','METADATA_TYPE_TO_FOLDERS_MAP','message','_items','7xYtsdh','all','COUNT_TYPES_FOR_LIST_METADATA','done','string','4kZpQmh','__awaiter','push','throw','_logger','fullName','execute','ListMetadataSoapCommand','has','ArrayUtils'];_0x5d44=function(){return _0x1fc263;};return _0x5d44();}(function(_0x50eeea,_0x4efa4f){const _0x3d62b9=_0xf846,_0x4145c3=_0x50eeea();while(!![]){try{const _0x3325de=-parseInt(_0x3d62b9(0xa5))/0x1*(-parseInt(_0x3d62b9(0xb4))/0x2)+-parseInt(_0x3d62b9(0xaf))/0x3*(parseInt(_0x3d62b9(0xcc))/0x4)+-parseInt(_0x3d62b9(0xa7))/0x5*(parseInt(_0x3d62b9(0xc3))/0x6)+-parseInt(_0x3d62b9(0xc7))/0x7*(-parseInt(_0x3d62b9(0xad))/0x8)+parseInt(_0x3d62b9(0xb5))/0x9+-parseInt(_0x3d62b9(0xb7))/0xa+parseInt(_0x3d62b9(0xa8))/0xb;if(_0x3325de===_0x4efa4f)break;else _0x4145c3['push'](_0x4145c3['shift']());}catch(_0x1d8191){_0x4145c3['push'](_0x4145c3['shift']());}}}(_0x5d44,0x6a919));var __awaiter=this&&this[_0x36a010(0xcd)]||function(_0x3340a0,_0x4a3b3f,_0x25a546,_0x322362){function _0x33e90b(_0x51d812){return _0x51d812 instanceof _0x25a546?_0x51d812:new _0x25a546(function(_0x3b39cc){_0x3b39cc(_0x51d812);});}return new(_0x25a546||(_0x25a546=Promise))(function(_0x30ab26,_0x3cdd09){const _0x1955cf=_0xf846;function _0x2995d1(_0x27cdf5){const _0x5599e8=_0xf846;try{_0x325a6c(_0x322362[_0x5599e8(0xae)](_0x27cdf5));}catch(_0x195fd5){_0x3cdd09(_0x195fd5);}}function _0x590c17(_0x5cf211){const _0x4f3c10=_0xf846;try{_0x325a6c(_0x322362[_0x4f3c10(0xcf)](_0x5cf211));}catch(_0xc9625f){_0x3cdd09(_0xc9625f);}}function _0x325a6c(_0x310098){const _0x481501=_0xf846;_0x310098[_0x481501(0xca)]?_0x30ab26(_0x310098[_0x481501(0xa6)]):_0x33e90b(_0x310098[_0x481501(0xa6)])[_0x481501(0xa9)](_0x2995d1,_0x590c17);}_0x325a6c((_0x322362=_0x322362[_0x1955cf(0xbf)](_0x3340a0,_0x4a3b3f||[]))[_0x1955cf(0xae)]());});},__importDefault=this&&this[_0x36a010(0xb0)]||function(_0x45df02){const _0xea73ac=_0x36a010;return _0x45df02&&_0x45df02[_0xea73ac(0xb8)]?_0x45df02:{'default':_0x45df02};};function _0xf846(_0x3cd7db,_0x211a2){const _0x5d443a=_0x5d44();return _0xf846=function(_0xf84623,_0x43b604){_0xf84623=_0xf84623-0xa0;let _0x4f7315=_0x5d443a[_0xf84623];return _0x4f7315;},_0xf846(_0x3cd7db,_0x211a2);}Object['defineProperty'](exports,_0x36a010(0xb8),{'value':!![]});const utils_1=require('@flosum/utils'),classes_1=require('../../classes'),metadata_constants_1=__importDefault(require(_0x36a010(0xac))),__1=require('..');class ListMetadataSoapCompose{constructor(_0x31b98f,_0x2956e1,_0x260bdf,_0x3ec457){const _0x52cd21=_0x36a010;this[_0x52cd21(0xc1)]=_0x31b98f,this[_0x52cd21(0xab)]=_0x2956e1,this['_types']=_0x260bdf,this[_0x52cd21(0xd0)]=_0x3ec457,this[_0x52cd21(0xc6)]=[];}[_0x36a010(0xaa)](_0x398f2a){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x3a7af4=_0xf846;try{const _0x461a01=yield new __1[(_0x3a7af4(0xa2))]({'apiVersion':this[_0x3a7af4(0xc1)],'types':_0x398f2a})[_0x3a7af4(0xc0)](this[_0x3a7af4(0xab)]);this[_0x3a7af4(0xc6)][_0x3a7af4(0xce)](..._0x461a01[_0x3a7af4(0xbd)](({type:_0x513de6})=>typeof _0x513de6===_0x3a7af4(0xcb)));}catch(_0x203a18){if(metadata_constants_1[_0x3a7af4(0xba)][_0x3a7af4(0xc2)][_0x3a7af4(0xa3)](_0x203a18[_0x3a7af4(0xb2)])){if(_0x398f2a[_0x3a7af4(0xbc)]>0x1)for(const _0x101328 of _0x398f2a){yield this['listMetadata']([_0x101328]);}else yield this[_0x3a7af4(0xd0)]['error'](_0x203a18[_0x3a7af4(0xc5)]);}else throw new classes_1[(_0x3a7af4(0xbe))](_0x203a18[_0x3a7af4(0xc5)],_0x203a18['code'],_0x203a18['status']);}});}[_0x36a010(0xb1)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x332452=_0xf846,_0x311f22=[];for(const {metadataType:_0x10cfc6}of this['_types']){if(!metadata_constants_1['default'][_0x332452(0xc4)][_0x10cfc6])continue;const _0x3d0fb6=metadata_constants_1[_0x332452(0xba)]['METADATA_TYPE_TO_FOLDERS_MAP'][_0x10cfc6];for(const _0x2c16df of _0x3d0fb6){const _0x2ec0e5=yield new __1['ListMetadataSoapCommand']({'apiVersion':this[_0x332452(0xc1)],'types':[{'metadataType':_0x2c16df}]})[_0x332452(0xc0)](this[_0x332452(0xab)]);if(!_0x2ec0e5[_0x332452(0xbc)])continue;for(const _0x508d9a of _0x2ec0e5){_0x311f22[_0x332452(0xce)]({'metadataType':_0x10cfc6,'folder':_0x508d9a[_0x332452(0xa0)]});}_0x311f22[_0x332452(0xce)]({'metadataType':_0x2c16df});}}this[_0x332452(0xbb)][_0x332452(0xce)](..._0x311f22);});}[_0x36a010(0xa1)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x355e90=_0xf846;yield this[_0x355e90(0xb1)]();const _0x3dccd9=utils_1[_0x355e90(0xa4)][_0x355e90(0xb3)](this[_0x355e90(0xbb)],metadata_constants_1[_0x355e90(0xba)][_0x355e90(0xc9)]);for(const _0x552fa0 of utils_1[_0x355e90(0xa4)][_0x355e90(0xb3)](_0x3dccd9,metadata_constants_1[_0x355e90(0xba)][_0x355e90(0xb9)])){const _0x5523d9=_0x552fa0[_0x355e90(0xb6)](_0x5b1658=>this[_0x355e90(0xaa)](_0x5b1658));yield Promise[_0x355e90(0xc8)](_0x5523d9);}return this['_items'];});}}exports[_0x36a010(0xba)]=ListMetadataSoapCompose;