'use strict';const _0x57f568=_0x5251;(function(_0x40c70c,_0x388f1b){const _0x5215b6=_0x5251,_0x1caa3d=_0x40c70c();while(!![]){try{const _0x296112=parseInt(_0x5215b6(0x203))/0x1+-parseInt(_0x5215b6(0x205))/0x2*(-parseInt(_0x5215b6(0x1f4))/0x3)+parseInt(_0x5215b6(0x20e))/0x4+-parseInt(_0x5215b6(0x1e6))/0x5*(parseInt(_0x5215b6(0x1ea))/0x6)+parseInt(_0x5215b6(0x204))/0x7+-parseInt(_0x5215b6(0x1f9))/0x8+parseInt(_0x5215b6(0x20d))/0x9*(parseInt(_0x5215b6(0x1f7))/0xa);if(_0x296112===_0x388f1b)break;else _0x1caa3d['push'](_0x1caa3d['shift']());}catch(_0x46a19f){_0x1caa3d['push'](_0x1caa3d['shift']());}}}(_0x31ef,0x7a9d5));var __awaiter=this&&this[_0x57f568(0x1e5)]||function(_0x70ccdc,_0x48cdc1,_0x123257,_0x394f50){function _0x3c4340(_0x559542){return _0x559542 instanceof _0x123257?_0x559542:new _0x123257(function(_0x1f013b){_0x1f013b(_0x559542);});}return new(_0x123257||(_0x123257=Promise))(function(_0x1d76f2,_0x4832f4){const _0x499629=_0x5251;function _0x5931e3(_0x52dbfd){const _0x2b4a09=_0x5251;try{_0x6bebc9(_0x394f50[_0x2b4a09(0x20f)](_0x52dbfd));}catch(_0x2cc8ed){_0x4832f4(_0x2cc8ed);}}function _0x38f347(_0x4a0b56){const _0x45bb71=_0x5251;try{_0x6bebc9(_0x394f50[_0x45bb71(0x20b)](_0x4a0b56));}catch(_0x4a9e71){_0x4832f4(_0x4a9e71);}}function _0x6bebc9(_0x229c4e){const _0x4e5be5=_0x5251;_0x229c4e[_0x4e5be5(0x1fd)]?_0x1d76f2(_0x229c4e[_0x4e5be5(0x1fe)]):_0x3c4340(_0x229c4e[_0x4e5be5(0x1fe)])['then'](_0x5931e3,_0x38f347);}_0x6bebc9((_0x394f50=_0x394f50[_0x499629(0x1e9)](_0x70ccdc,_0x48cdc1||[]))[_0x499629(0x20f)]());});},__importDefault=this&&this[_0x57f568(0x1f8)]||function(_0x28f015){const _0x273728=_0x57f568;return _0x28f015&&_0x28f015[_0x273728(0x1ed)]?_0x28f015:{'default':_0x28f015};};Object[_0x57f568(0x200)](exports,'__esModule',{'value':!![]});const check_deploy_status_soap_command_1=__importDefault(require(_0x57f568(0x207))),salesforce_constants_1=__importDefault(require(_0x57f568(0x1ee))),timer_utils_1=__importDefault(require('../../utils/timer.utils')),deploy_soap_command_1=__importDefault(require('./deploy-soap-command')),salesforce_deploy_metadata_error_1=__importDefault(require(_0x57f568(0x1fc)));class DeploySoapCompose{constructor(_0x690c8c,_0x1ebee1,_0x152e8f){const _0x188cd2=_0x57f568;this[_0x188cd2(0x206)]=_0x690c8c,this[_0x188cd2(0x20c)]=_0x1ebee1,this[_0x188cd2(0x1ff)]=_0x152e8f;}['checkDeployStatus'](_0x3d56e8){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x20ffe3=_0x5251;return new check_deploy_status_soap_command_1[(_0x20ffe3(0x1eb))]({'apiVersion':salesforce_constants_1[_0x20ffe3(0x1eb)][_0x20ffe3(0x201)],'asyncProcessId':this[_0x20ffe3(0x20a)],'includeDetails':_0x3d56e8})['request'](this[_0x20ffe3(0x206)]);});}['deploy'](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1a77b5=_0x5251;yield timer_utils_1[_0x1a77b5(0x1eb)]['wait'](0x1388);const _0x29e020=yield this[_0x1a77b5(0x202)](![]);if(!_0x29e020['done'])return this[_0x1a77b5(0x1ec)]();const _0x2bb213=yield this['checkDeployStatus'](!![]);if(!_0x2bb213[_0x1a77b5(0x1fa)]){const _0x2ccb5c=this[_0x1a77b5(0x1e8)](_0x2bb213['details']);throw new salesforce_deploy_metadata_error_1[(_0x1a77b5(0x1eb))](_0x2ccb5c);}return _0x2bb213;});}['getDeployErrorMessages'](_0x1111dc){const _0x51141b=_0x57f568;var _0x5529a3,_0x45cb83;const _0x21e9ad=[];if((_0x5529a3=_0x1111dc[_0x51141b(0x1f2)])===null||_0x5529a3===void 0x0?void 0x0:_0x5529a3[_0x51141b(0x1f6)])for(const {componentType:_0x2bea33,fullName:_0x1c4f73,problem:_0x22dd99}of _0x1111dc[_0x51141b(0x1f2)]){_0x21e9ad[_0x51141b(0x209)](_0x51141b(0x1e7)+_0x2bea33+'\x20'+_0x1c4f73+_0x51141b(0x1f0)+_0x22dd99);}if((_0x45cb83=_0x1111dc[_0x51141b(0x1f3)])===null||_0x45cb83===void 0x0?void 0x0:_0x45cb83[_0x51141b(0x1ef)]){const _0x2f64da=[];if(Array[_0x51141b(0x208)](_0x1111dc['runTestResult'][_0x51141b(0x1ef)]))for(const _0x43ee2d of _0x1111dc[_0x51141b(0x1f3)][_0x51141b(0x1ef)]){_0x2f64da[_0x51141b(0x209)](_0x43ee2d[_0x51141b(0x1f1)]);}else _0x2f64da['push'](_0x1111dc['runTestResult'][_0x51141b(0x1ef)]['name']);_0x21e9ad[_0x51141b(0x209)]('Apex\x20classes\x20test\x20failed:\x20'+_0x2f64da[_0x51141b(0x1fb)](',\x20'));}return _0x21e9ad;}[_0x57f568(0x1f5)](){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x41f213=_0x5251,_0x187926=yield new deploy_soap_command_1[(_0x41f213(0x1eb))]({'apiVersion':salesforce_constants_1[_0x41f213(0x1eb)][_0x41f213(0x201)],'file':this[_0x41f213(0x20c)],'deployOptions':this[_0x41f213(0x1ff)]})['request'](this['_axiosInstance']);return this['_jobId']=_0x187926['id'],this[_0x41f213(0x1ec)]();});}}function _0x5251(_0x45293a,_0x6dffc5){const _0x31ef5e=_0x31ef();return _0x5251=function(_0x5251fe,_0x388016){_0x5251fe=_0x5251fe-0x1e5;let _0x50d4af=_0x31ef5e[_0x5251fe];return _0x50d4af;},_0x5251(_0x45293a,_0x6dffc5);}function _0x31ef(){const _0x490560=['91629igVoRh','2056184kLwqbv','next','__awaiter','20pQeEaD','Component:\x20','getDeployErrorMessages','apply','709122FfCADb','default','deploy','__esModule','../../constants/salesforce.constants','failures','.\x20Problem:\x20','name','componentFailures','runTestResult','538869sGmqMN','execute','length','220EnmHVk','__importDefault','932720ujEMDN','success','join','../../classes/error/salesforce-deploy-metadata-error','done','value','_deployOptions','defineProperty','API','checkDeployStatus','11879qhaVRP','1134259kMNMaF','2DrTiwE','_axiosInstance','./check-deploy-status-soap.command','isArray','push','_jobId','throw','_file'];_0x31ef=function(){return _0x490560;};return _0x31ef();}exports[_0x57f568(0x1eb)]=DeploySoapCompose;